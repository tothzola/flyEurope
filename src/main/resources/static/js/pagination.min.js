!function($){"use strict";var bsVersion=3;void 0!==$.fn.tooltip&&(bsVersion=$.fn.tooltip.Constructor.VERSION.split(".")[0]);var rpmListClass="page-num",rpmAnchorClass="",rpmHideClass="hide";function refreshPageforItems(obj,current,limit,url,form){let offset=0,ap;if(obj.parent().hasClass("prev"))offset=limit*(current-2);else if(obj.parent().hasClass("next"))offset=limit*current;else{let cl=obj.data("page_no");offset=limit*((current=parseInt(cl))-1)}null===form||""===form||$(form).length<=0?(ap="?",url.includes("?")&&(ap="&"),window.location.href=url+ap+"limit="+limit+"&offset="+offset):form=$(form),form.append($("<input />").attr("type","hidden").attr("name","limit").attr("value",limit)),form.append($("<input />").attr("type","hidden").attr("name","offset").attr("value",offset)).submit()}$.fn.rpmPagination=function(options){var settings=$.extend({limit:10,total:0,currentPage:1,domElement:".p-item",refresh:!1,link:null,formElement:null},options);let $this=$(this),pages=1,rpmPageNext=settings.limit,rpmPageTotal=settings.total,tBool=!1,rpmPageDomElem=settings.domElement,rpmCustomDomElem="p-"+Math.random().toString(36).substr(2,6),version;return 4==bsVersion[0]&&(rpmListClass="page-item "+rpmListClass,rpmHideClass="d-none",rpmAnchorClass="page-link"),rpmPageTotal<=0&&(tBool=!0),$(rpmPageDomElem).each((function(i,obj){tBool&&(rpmPageTotal=i+1),$(obj).addClass(rpmCustomDomElem),$(obj).addClass(rpmCustomDomElem+"-"+parseInt(i+1))})),rpmPageTotal>settings.limit&&(pages=parseInt(rpmPageTotal/settings.limit),rpmPageTotal%settings.limit>0&&(pages+=1)),preparePageMenus(settings.currentPage,pages,$this),[settings.currentPage,rpmPageNext]=preparePageItems(settings.currentPage,rpmPageNext,settings.limit,rpmCustomDomElem,"page-num"),settings.refresh&&$("."+rpmCustomDomElem).length>0&&$("."+rpmCustomDomElem).removeClass(rpmHideClass),$(document).on("click",".page-num > a",(function(e){if(e.preventDefault(),$(this).parent().hasClass("disabled")||0===$(this).parent($this).length)return!1;if(!0===settings.refresh)refreshPageforItems($(this),settings.currentPage,settings.limit,settings.link,settings.formElement);else if($(this).parent().hasClass("prev"))[settings.currentPage,rpmPageNext]=preparePageItems(settings.currentPage,rpmPageNext,settings.limit,rpmCustomDomElem,"prev");else if($(this).parent().hasClass("next"))[settings.currentPage,rpmPageNext]=preparePageItems(settings.currentPage,rpmPageNext,settings.limit,rpmCustomDomElem,"next");else{let cl=$(this).data("page_no");settings.currentPage=parseInt(cl),[settings.currentPage,rpmPageNext]=preparePageItems(settings.currentPage,rpmPageNext,settings.limit,rpmCustomDomElem,"page-num")}preparePageMenus(settings.currentPage,pages,$this)})),!0};var preparePageItems=function(current_page,next,limit,element,type){$("."+element).addClass(rpmHideClass);var current=0;if("prev"===type){for(let i=current=(next-=limit)-limit+1;i<=next;i++)$("."+element+"-"+i).removeClass(rpmHideClass);current_page--}else if("next"===type){current=next+1,next+=limit;for(let i=current;i<=next;i++)$("."+element+"-"+i).removeClass(rpmHideClass);current_page++}else if("page-num"===type){next=limit*(current_page-1)+limit;for(let i=current=limit*(current_page-1)+1;i<=next;i++)$("."+element+"-"+i).removeClass(rpmHideClass)}return[current_page,next]},preparePageMenus=function(current_page,pages,element){$(element).html("");let pageArray=[],fp=1,lp=pages,menuHtml="";if(lp<=6)for(let i=1;i<=lp;i++)pageArray.push(i);else pageArray=Math.abs(current_page-1)<3?[1,2,3,4,"...",lp]:Math.abs(current_page-lp)<3?[1,"...",lp-3,lp-2,lp-1,lp]:[1,"...",current_page-1,current_page,current_page+1,"...",lp];menuHtml='<li class="'+rpmListClass+" prev "+(1===current_page?"disabled":"")+'"><a class="'+rpmAnchorClass+'" href="#">prev</a></li>';for(let i=0;i<pageArray.length&&!(lp<=i);i++)"..."===pageArray[i]?menuHtml+='<li class="'+rpmListClass+' page-inf disabled"><a class="'+rpmAnchorClass+'" data-page_no="..." href="#">...</a></li>':menuHtml+='<li class="'+rpmListClass+" page-"+pageArray[i]+" "+(pageArray[i]===current_page?"disabled":"")+'"><a class="'+rpmAnchorClass+'" data-page_no="'+pageArray[i]+'" href="#">'+pageArray[i]+"</a></li>";return menuHtml+='<li class="'+rpmListClass+" next "+(current_page===lp?"disabled":"")+'"><a class="'+rpmAnchorClass+'" href="#">next</a></li>',$(element).append(menuHtml),!0}}(jQuery);